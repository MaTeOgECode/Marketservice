<div class="container-form">
  <div class="card-form">
    <div class="header-form">
      <h2>Registrar Nuevo Servicio</h2>
      <p>Completa la información para ofrecer tu servicio a los clientes.</p>
    </div>
    
    <div class="form-body">
      <div class="form-group">
        <label><i class="bi bi-pencil-square"></i> Nombre del Servicio</label>
        <input type="text" [(ngModel)]="nombreServicio" placeholder="Ej: Mantenimiento de Jardines">
      </div>

      <div class="form-group">
        <label><i class="bi bi-card-text"></i> Descripción</label>
        <textarea [(ngModel)]="descripcionServicio" rows="3" placeholder="Describe brevemente qué incluye..."></textarea>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label><i class="bi bi-cash-stack"></i> Precio (Bs)</label>
          <input type="number" [(ngModel)]="precioServicio" placeholder="0.00">
        </div>
        
        <div class="form-group">
          <label><i class="bi bi-grid"></i> Categoría</label>
          <select [(ngModel)]="categoriaServicio">
            <option value="" disabled selected>Seleccione...</option>
            <option *ngFor="let cat of listaCategorias" [value]="cat.nombre">
              {{ cat.nombre }}
            </option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label><i class="bi bi-image"></i> Imagen del Servicio</label>
        
        <div class="upload-box">
          <input type="file" id="file" (change)="onFileSelected($event)" accept="image/*" class="file-input">
          <label for="file" class="file-label">
            <i class="bi bi-cloud-arrow-up"></i>
            <span>Haz clic para subir imagen</span>
          </label>
        </div>

        <div class="progress-wrapper" *ngIf="porcentajeSubida > 0">
          <div class="progress-bg">
            <div class="progress-bar" [style.width.%]="porcentajeSubida"></div>
          </div>
          <span class="progress-text">{{ porcentajeSubida | number:'1.0-0' }}% subido</span>
        </div>

        <div class="url-divider">
          <span>O inserta una URL</span>
        </div>
        
        <input type="text" [(ngModel)]="urlImagen" placeholder="https://ejemplo.com/imagen.jpg" class="url-input">
        
        <div class="img-preview-container" *ngIf="urlImagen">
          <img [src]="urlImagen" alt="Vista previa">
          <div class="preview-badge">Vista previa</div>
        </div>
      </div>

      <button class="btn-save" (click)="guardarServicio()" [disabled]="cargandoImagen">
        <i class="bi bi-check-circle-fill"></i>
        {{ cargandoImagen ? 'Subiendo imagen...' : 'Publicar Servicio' }}
      </button>
    </div>
  </div>
</div>